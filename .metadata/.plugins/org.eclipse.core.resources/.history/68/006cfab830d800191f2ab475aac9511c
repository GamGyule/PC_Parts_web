<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper

  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"

  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="customer">
	<select id="getAll" resultType="com.gamgyul.gams.dto.CustomerDTO">
		select * from customer
	</select>
	
	<select id="addUser" parameterType="com.gamgyul.gams.dto.CustomerDTO">
		insert into customer(cmail,cid,cpw,cname,cadmin) values(#{cmail},#{cid},#{cpw},#{cname},#{cadmin})
	</select>
	
	<select id="idCount" parameterType="java.lang.String" resultType="java.lang.Integer">
		select count(cid) from customer where cid=#{cid}
	</select>
	
	<select id="nameCount" parameterType="java.lang.String" resultType="java.lang.Integer">
		select count(cname) from customer where UPPER(cname)=#{cname}
	</select>
	
	<select id="getLoginUser" parameterType="map" resultType="com.gamgyul.gams.dto.CustomerDTO">
		select * from customer where cid=#{cid} and cpw=#{cpw}
	</select>
</mapper>